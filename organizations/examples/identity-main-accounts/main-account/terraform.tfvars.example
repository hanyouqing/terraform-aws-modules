region = "us-east-1"

# Use assume role to access main account (recommended)
# aws_assume_role_arn = "arn:aws:iam::123456789013:role/OrganizationAccountAccessRole"

# Or use AWS profile (for SSO or IAM user)
# aws_profile = "main-account-profile"

identity_account_id = "123456789012"
main_account_id     = "123456789013"

team_roles = {
  developers = {
    role_name        = "Developers"
    assume_role_name = "AssumeMainAccount-Developers"
    external_id      = "assume-main-developers"
    policy_arns      = ["arn:aws:iam::aws:policy/PowerUserAccess"]
    inline_policies  = []
  }
  operations = {
    role_name        = "Operations"
    assume_role_name = "AssumeMainAccount-Operations"
    external_id      = "assume-main-operations"
    policy_arns      = ["arn:aws:iam::aws:policy/AdministratorAccess"]
    inline_policies  = []
  }
  security = {
    role_name        = "Security"
    assume_role_name = "AssumeMainAccount-Security"
    external_id      = "assume-main-security"
    policy_arns      = []
    inline_policies = [
      {
        Effect = "Allow"
        Action = [
          "iam:Get*",
          "iam:List*",
          "cloudtrail:LookupEvents",
          "cloudtrail:GetTrail",
          "cloudtrail:ListTrails",
          "config:Describe*",
          "config:Get*",
          "securityhub:Get*",
          "securityhub:List*",
          "securityhub:BatchImportFindings"
        ]
        Resource = ["*"]
      }
    ]
  }
}

tags = {
  Project     = "identity-main"
  Environment = "production"
  ManagedBy   = "terraform"
  Code        = "terraform-aws-modules:organizations/examples/identity-main-accounts/main-account"
}

